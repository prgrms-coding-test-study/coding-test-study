## 👤 작성자
김지수

---

## 🧩 문제 정보
<!-- [문제 제목](문제 링크) 형식으로 작성하세요 -->
[주식 가격](https://school.programmers.co.kr/tryouts/198617/challenges)

---

## 💭 아이디어
- 뒤에서부터 역으로 순회하며 가격이 떨어지지 않는 시간 계산
- deque 자료구조를 이용한 스택 구현
- 현재 가격과 스택 상단에 위치하는 가격 비교

---

## 🧑‍💻 코드
<!-- 작성한 코드를 백틱으로 감싸 넣어주세요 --> 
```python
from collections import deque

def solution(prices):
    seconds = [0] * len(prices) ### 주식 가격별 가격이 떨어지지 않은 시간(초)
    stack = deque() ### 주식 가격의 인덱스 저장
    top = -1
    
    ### 맨 마지막 가격은 항상 0초 동안 가격이 떨어지지 않으므로 그 앞 가격부터 거꾸로 순회
    for i in range(len(seconds) - 2, -1, -1):
        curr_price = prices[i]
        curr_second = 1
        
        ### 가격이 떨어지지 않은 기간이 몇 초인지 계산
        while (stack and prices[stack[top]] >= curr_price):
            curr_second += seconds[stack[top]]
            stack.pop()
        
        seconds[i] = curr_second
        stack.append(i)
        
    return seconds
```

---

## ⏰ 복잡도
- 시간 복잡도: O(N)
- 공간 복잡도: O(N)

---

## 📝 회고
- 스택을 이용해 연속된 비하락 구간 누적 가능